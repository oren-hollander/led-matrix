<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Speed Test</title>
</head>
<body>

<script>
    worker = new Worker('post-message-spped-test-worker.js')
    console.time('speed')
    worker.onmessage = ({data}) => {
        const count = data.count
        if(count <= 1000){
            console.log(count)
            worker.postMessage({count: data.count + 1})
        }
        else {
            console.timeEnd('speed')
        }

    }
    worker.postMessage({count: 1})
</script>
</body>
</html>